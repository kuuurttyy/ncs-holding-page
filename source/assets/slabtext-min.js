!function(e){e.fn.slabText=function(t){var n={fontRatio:.78,forceNewCharCount:!0,wrapAmpersand:!0,headerBreakpoint:null,viewportBreakpoint:null,noResizeEvent:!1,resizeThrottleTime:300,maxFontSize:999,postTweak:!0,precision:3,minCharsPerLine:0};return e("body").addClass("slabtexted"),this.each(function(){t&&e.extend(n,t);var i=e(this),a=e("span.slabtext",i).length,s=a?[]:String(e.trim(i.text())).replace(/\s{2,}/g," ").split(" "),r=null,l=null,o=n.fontRatio,h=n.forceNewCharCount,p=n.headerBreakpoint,d=n.viewportBreakpoint,f=n.postTweak,c=n.precision,w=n.resizeThrottleTime,g=n.minCharsPerLine,m=null,u=e(window).width(),x=i.find("a:first").attr("href")||i.attr("href"),v=x?i.find("a:first").attr("title"):"";if(!(!a&&g&&s.join(" ").length<g)){var b=function(){var e=jQuery('<div style="display:none;font-size:1em;margin:0;padding:0;height:auto;line-height:1;border:0;">&nbsp;</div>').appendTo(i),t=e.height();return e.remove(),t},z=function t(){var w=i.width(),m;if(i.removeClass("slabtextdone slabtextinactive"),d&&d>u||p&&p>w)i.addClass("slabtextinactive");else{if(m=b(),a||!h&&m==r)r=m;else{r=m;var z=Math.min(60,Math.floor(w/(r*o))),C=0,T=[],k=0,y="",F="",j="",B,R,S;if(z!=l){for(l=z;C<s.length;){for(F="";F.length<l&&(y=F,F+=s[C]+" ",!(++C>=s.length)););g&&(B=s.slice(C).join(" ")).length<g&&(y=F+=B,C=s.length+2),(R=l-y.length)<(S=F.length-l)&&y.length>=(g||2)?(j=y,C--):j=F,j=e("<div/>").text(j).html(),n.wrapAmpersand&&(j=j.replace(/&amp;/g,'<span class="amp">&amp;</span>')),j=e.trim(j),T.push('<span class="slabtext">'+j+"</span>")}i.html(T.join(" ")),x&&i.wrapInner('<a href="'+x+'" '+(v?'title="'+v+'" ':"")+"/>")}}e("span.slabtext",i).each(function(){var t=e(this),i=t.text(),a=i.split(" ").length>1,s,l,o;f&&t.css({"word-spacing":0,"letter-spacing":0}),l=w/t.width(),o=parseFloat(this.style.fontSize)||r,t.css("font-size",Math.min((o*l).toFixed(c),n.maxFontSize)+"px"),(s=!!f&&w-t.width())&&t.css((a?"word":"letter")+"-spacing",(s/(a?i.split(" ").length-1:i.length)).toFixed(c)+"px")}),i.addClass("slabtextdone")}};z(),n.noResizeEvent||e(window).resize(function(){e(window).width()!=u&&(u=e(window).width(),clearTimeout(m),m=setTimeout(z,w))})}})}}($);